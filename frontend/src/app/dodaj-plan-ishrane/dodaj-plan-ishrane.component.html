<!-- File Upload Component -->
<app-nav-bar-nutricionista></app-nav-bar-nutricionista>
<div class="container mt-4">
  <div class="card">
    <div class="card-body file-upload">
      <h1 class="text-center mb-4">
        <i class="fas fa-file-upload"></i>
        File Upload
      </h1>

      <!-- File Input -->
      <div class="form-group text-center">
        <label for="fileInput">
          <i class="fas fa-cloud-upload-alt"></i> Dodajte plan ishrane
        </label>
        <br>
        <input type="file" id="fileInput" (change)="onFileSelected($event)" class="form-control-file" />
      </div>

      <!-- Upload and Add Buttons -->
      <div class="text-center mt-3">
        <button class="btn btn-success" (click)="DodajPlanIshrane()">
          <i class="fas fa-plus"></i> Dodaj
        </button>
      </div>

      <!-- File List -->
      <div class="mt-4">
        <table class="table table-bordered table-striped text-center">
          <thead class="thead-dark">
            <tr>
              <th>Naziv plana</th>
              <th>File dodao</th>
              <th>Actions</th>
            </tr>
          </thead>
          <tbody>
            <tr *ngFor="let planIshrane of planIshraneResponse">
              <td>
                <i class="fas fa-file-alt"></i>
                {{ PrikaziImeFajla(planIshrane.fileId) }}
              </td>
              <td>
                <i class="fas fa-file"></i>
                {{ PrikaziImeDodavaca(planIshrane.nutricionistaId) }}
              </td>
              <td>
                <button class="btn btn-primary download-button" (click)="downloadFile(planIshrane.fileId)">
                  <i class="fas fa-download"></i> Download
                </button>
                <button class="btn btn-danger delete-button" (click)="deletePlanIshrane(planIshrane)">
                  <i class="fas fa-trash"></i> Izbrisi
                </button>
              </td>
            </tr>
          </tbody>
        </table>
      </div>
      
    </div>
  </div>
</div>
